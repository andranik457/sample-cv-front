<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <title>Sample CV</title>

    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="stylesheets/materialize/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="stylesheets/materialize/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="stylesheets/materialize/css/main.css?<?= time() ?>" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>
<nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Logo</a>
        <ul class="right hide-on-med-and-down">
            <li><a href="#">Navbar Link</a></li>
        </ul>
        <ul id="nav-mobile" class="sidenav">
            <li><a href="#">Navbar Link</a></li>
        </ul>
        <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
    </div>
</nav>

<svg jsname="BUfzDd" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 810" preserveAspectRatio="xMinYMin slice" aria-hidden="true">
    <path fill="#efefee" d="M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z"></path>
    <path fill="#f6f6f6" d="M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z"></path>
    <path fill="#f7f7f7" d="M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z"></path>
    <path fill="#fbfbfc" d="M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z"></path>
    <path fill="#ebebec" d="M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z"></path>
    <path fill="#e1e1e1" d="M1285.31 0c-2.2 12.798-4.5 25.597-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z"></path>
    <path fill="#e7e7e7" d="M1278.31,38.196C1245.81,209.874 1197.22,365.556 1144.82,499.838L1144.82,503.638C1185.82,615.924 1216.41,720.211 1239.11,809.6L1439.7,810L1439.7,256.768C1379.4,158.78 1321.41,86.288 1278.31,38.195L1278.31,38.196z"></path>
</svg>

<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        <h1 class="header center orange-text">Preview CV</h1>
    </div>
</div>

<div class="container">
    <div class="section cv-preview">
        <div class="row" style="margin-bottom: 0px">
            <div class="col s12">
                <div class="col s3 left">
                    <div class="row personal info">
                        <div class="col s12"><img class="personal-img" src="https://scontent.fevn1-2.fna.fbcdn.net/v/t1.0-9/21032489_1554765164544505_8896704043400127025_n.jpg?_nc_cat=0&oh=c70c6549154891612e3dea9904967925&oe=5B725C6C"></div>
                        <div class="col s12 name">Andranik Aslanyan</div>
                        <div class="col s12 position">Full Stack Developer</div>
                        <div class="col s12"><br></div>

                        <div class="col s12"><hr></div>


                        <div class="col s12">
                            <div class="row main-info">
                                <div class="col s12">
                                    <img src="stylesheets/img/email.png" width="12px">
                                    <span>andranikasl@gmail.com</span>
                                </div>
                                <div class="col s12">
                                    <img src="stylesheets/img/phone.png" width="12px">
                                    <span>+374 (55) 745636</span>
                                </div>
                                <div class="col s12">
                                    <img src="stylesheets/img/skype.png" width="12px">
                                    <span>aslanyan.andranik</span>
                                </div>
                                <div class="col s12">
                                    <img src="stylesheets/img/age.png" width="12px">
                                    <span>27</span>
                                </div>
                                <div class="col s12">
                                    <img src="stylesheets/img/nationality.png" width="12px">
                                    <span>Armenian</span>
                                </div>
                                <div class="col s12">
                                    <img src="stylesheets/img/address.png" width="12px">
                                    <span>Yerevan, Armenia</span>
                                </div>
                            </div>
                        </div>

                        <div class="col s12">
                            <div class="social-info">
                                <img style="margin-right: 8px" src="stylesheets/img/github.png" width="24px">
                                <img style="margin-right: 8px" src="stylesheets/img/stackoverflow.png" width="24px">
                                <img style="margin-right: 8px" src="stylesheets/img/linkedin.png" width="24px">
                                <img style="margin-right: 8px" src="stylesheets/img/facebook.png" width="24px">
                            </div>
                        </div>

                        <div class="col s12">
                            <div class="row">
                                <div class="col s3" style="font-size: 1.1rem;">Skills</div>
                                <div class="col s8" style="border-bottom: 1px solid #ccc; padding: 0.6rem 0px;"></div>
                            </div>
                        </div>

                        <div class="col s12 skills"></div>
                        <div class="col s12 languages"></div>
                    </div>
                </div>
                <div class="col s9 right">
                    <div class="row bio"></div>
                    <div class="row work-experience"></div>
                    <div class="row education" style="margin-bottom: 0px"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="page-footer orange">
    <div class="container">
        <div class="row">
            <div class="col l6 s12">
                <h5 class="white-text">Company Bio</h5>
                <p class="grey-text text-lighten-4">We are a team of college students working on this project like it's our full time job. Any amount would help support and continue development on this project and is greatly appreciated.</p>
            </div>
            <div class="col l3 s12">
                <h5 class="white-text">Settings</h5>
                <ul>
                    <li><a class="white-text" href="#!">Link 1</a></li>
                    <li><a class="white-text" href="#!">Link 2</a></li>
                    <li><a class="white-text" href="#!">Link 3</a></li>
                    <li><a class="white-text" href="#!">Link 4</a></li>
                </ul>
            </div>
            <div class="col l3 s12">
                <h5 class="white-text">Connect</h5>
                <ul>
                    <li><a class="white-text" href="#!">Link 1</a></li>
                    <li><a class="white-text" href="#!">Link 2</a></li>
                    <li><a class="white-text" href="#!">Link 3</a></li>
                    <li><a class="white-text" href="#!">Link 4</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container">
            Made by <a class="orange-text text-lighten-3" href="http://materializecss.com">Materialize</a>
        </div>
    </div>
</footer>

<!--  Scripts-->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<link rel='stylesheet prefetch' href='http://fonts.googleapis.com/icon?family=Material+Icons'>
<link rel='stylesheet prefetch' href='http://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css'>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js'></script>
<script src="stylesheets/materialize/js/materialize.js"></script>
<script src="stylesheets/materialize/js/init.js"></script>
<script src="stylesheets/materialize/js/main.js?<?= time() ?>"></script>

<script>
    $(document).ready(function(){
        let skillsInfo = '';

        let url = 'http://local.sample-cv.com/user/info/by/1245';
        let criteria = "";

        $.ajax({
            url: url,
            type: "GET",
            data: criteria,
            dataType: "json",
            success: function (result) {
                parseSkills('Frontend', result.skills.frontEnd);
                parseSkills('Backend', result.skills.backEnd);
                parseSkills('Database', result.skills.database);
                parseBio(result.bio);
                parseWorkExperience(result.company);
                parseEducation(result.education);
                parseLanguages(result.languages);
            }
        });
    });

    function parseSkills(skillSubject, data) {
        let avgSkills = 0;

        let skillsBody = '<ul>';
        for (i in data) {
            avgSkills = avgSkills + data[i]['value'];

            if ('JavaScript' === data[i]['name']) {
                skillsBody += '<li>'+
                    data[i]['name'] +
                    '<ul><li>jQuery</li></ul>' +
                '</li>';
            }
            else if ('CSS 3' === data[i]['name']) {
                skillsBody += '<li>'+
                    data[i]['name'] +
                    '<ul><li>Bootstrap</li><li>Materialize</li></ul>' +
                    '</li>';
            }
            else {
                skillsBody += '<li>'+ data[i]['name'] +'</li>'
            }

        }
        skillsBody += '</ul>';

        avgSkills = avgSkills / (parseInt(i) + 1);

        let skillsLevelInfo = '';
        let fillColor = 'none';
        for (let j = 1; j <= 10; j++) {
            (avgSkills > j) ? fillColor = "white" : fillColor = "none";

            skillsLevelInfo += '<svg width="'+ (16 * j) +'" height="14" style="z-index: auto">\
                <circle cx="'+ ((16 * j) - 8) +'" cy="7" r="6" stroke="white" stroke-width="1" fill="'+ fillColor +'" />\
            </svg>';

            // skillsLevelInfo += '<svg width="12rem" height="12" stroke="white" stroke-width="1" fill="'+ fillColor +'" style="z-index: auto">\
            //     <path d="M'+ (0 + (15 * j)) +',0 L '+ (10 + (15 * j)) +',0 '+ (20 + (15 * j)) +',10 '+ (10 + (15 * j)) +',10 Z"/>\
            // </svg>';
        }
        // <path d="M'+ (10 + (15 * j)) +',0 L '+ (20 + (15 * j)) +',0 '+ (10 + (15 * j)) +',10 '+ (0 + (15 * j)) +',10 Z"/>\


        let skillsInfo = '<div class="col s12"><div class="row"><span class="skills-subject">'+ skillSubject +'</span></div></div>';
        skillsInfo += '<div class="col s12"><div class="row">'+ skillsLevelInfo +'</div></div>';
        skillsInfo += '<div class="col s12">'+ skillsBody +'</div>';
        $('.skills').append(skillsInfo);
    }

    function parseBio(data) {
        let bio = '<div class="col s12"><div class="row">' +
            '<div class="col s5"><hr class="underline"></div>' +
            '<div class="col s2" style="text-align:center;"><span class="subject">Summary</span></div>' +
            '<div class="col s5"><hr class="underline"</div>' +
        '</div></div>';
        bio += '<div class="row"><div class="col s12">'+ data +'</div></div>';

        $('.bio').append(bio);
    }

    function parseWorkExperience(data) {
        let workExperience = '<div class="col s12">'+
            '<div class="row">'+
                '<div class="col s2"><span class="subject">Experience</span></div>'+
                '<div class="col s10"><hr class="underline"></div>'+
            '</div>'+
        '</div>';

        for (i in data) {
            workExperience += '<div class="col s12">' +
                '<div class="row">' +
                    '<div class="col s2" style="font-size:1.1rem">'+ data[i].start + '<br>' + data[i].end +'</div>' +
                    '<div class="col s10">' +
                        '<div class="col s12" style="font-size: 1.2rem;">'+ data[i].name +'</div>' +
                        '<div class="col s12" style="font-size: 1.1rem;">'+ data[i].site +'</div>' +
                        '<div class="col s12" style="font-size: 1.1rem;">'+ data[i].position +'</div>' +
                        '<div class="col s12">'+
                            '<ul>' +
                                '<li>MySql database architecture and administration.</li>'+
                                '<li>Implemented payment system using Stripe, Paypal</li>'+
                                '<li>Created billing system</li>'+
                                '<li>Created users control admin panel</li>'+
                                '<li>Created a RESTful API </li>'+
                            '</ul>'+
                        '</div>' +
                    '</div>' +
                '</div>' +
            '</div>';
        }

        $('.work-experience').append(workExperience);
    }

    function parseEducation(data) {
        let education = '<div class="col s12">'+
            '<div class="row">'+
                '<div class="col s2"><span class="subject">Education</span></div>'+
                    '<div class="col s10"><hr class="underline"></div>'+
                '</div>'+
        '</div>';

        for (i in data) {
            education += '<div class="col s12">' +
                '<div class="row">'+
                    '<div class="col s2" style="font-size:1.1rem">'+ data[i].educationStartDate + '<br>' + data[i].educationEndDate +'</div>' +
                    '<div class="col s10">' +
                        '<div class="col s12" style="font-size: 1.2rem;">'+ data[i].name +'</div>' +
                        '<div class="col s12" style="font-size: 1.1rem;">'+ data[i].faculty +'</div>' +
                        '<div class="col s12" style="font-size: 1.1rem;">'+ data[i].qualification +'</div>' +
                    '</div>' +
                '</div>'+
            '</div>';
        }

        $('.education').append(education);
    }

    function parseLanguages(data) {
        let languages = '<div class="row">\
            <div class="col s6" style="font-size: 1.1rem;">Languages</div>\
            <div class="col s5" style="border-bottom: 1px solid #ccc; padding: 0.6rem 0px;"></div> \
        </div>';

        for (i in data) {
            languages += '<div class="row">'+
                '<div class="col s12">'+
                    '<div class="col s6" style="font-size: 1.1rem;">'+ data[i].name +'</div>'+
                    '<div class="col s6" style="font-size: 1.1rem;">'+ data[i].value +'</div>'+
                '</div>' +
            '</div>';
        }

        $('.languages').append(languages);
    }
</script>

</body>
</html>
